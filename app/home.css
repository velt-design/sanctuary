:root{
  --bg:#ECEDEE; --fg:#0F0F10; --muted:#666; --border:#D6D7D9;
  --darkGrey:#3A3A3A;
  --g: clamp(12px, 2.2vw, 28px);
  --bw: clamp(1px, 0.12vw, 2.5px);
  --navH: 68px;
  --ctaWipe:#2B2B2B;
  --pageWhite:#FFFFFF;
  --barPad: 12px;
  --barScale: 2.5;
  --slowMult: 10;
}

body.homepage{background:var(--bg); color:var(--fg); font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif; font-weight:400}
body.homepage footer{display:none}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

h1,h2,h3,h4,h5,h6{font-weight:400}
a,a:visited{color:inherit;text-decoration:none}

.container{max-width:1400px;width:100%;padding-inline:var(--g);margin:0 auto}

/* Header position is handled globally as fixed; keep it that way on the homepage. */
.homepage header.site{background:rgba(236,237,238,.9);backdrop-filter:blur(6px);border-bottom:var(--bw) solid var(--border)}
.homepage .nav{display:flex;align-items:center;justify-content:space-between;height:var(--navH)}
.homepage .brand{letter-spacing:.04em;font-size:14px}
.homepage .menu{display:flex;gap:24px;align-items:center;font-size:14px;letter-spacing:.04em}
.homepage .menu .cta{display:inline-flex;align-items:center;gap:6px;border:var(--bw) solid var(--fg);padding:10px 14px;border-radius:999px;font-size:14px}

.kicker{font-size:13px;letter-spacing:.12em;color:#777;text-transform:uppercase;margin-bottom:8px}
/* Offset main page content by the fixed header height so nothing sits under it */
.homepage main{ margin-top: calc(var(--headerH, var(--navH)) + var(--bw)); }
/* Size the hero to the visible viewport minus the measured header height */
.hero{height:calc(100dvh - var(--headerH, var(--navH)));padding-block:var(--g);position:relative}
.hero .split{display:grid;grid-template-columns:1fr 1fr;gap:var(--g);height:100%;min-height:0}
.hero-left-grid{display:grid;grid-template-rows:1fr auto;gap:var(--g);height:100%;min-height:0}
.hero-top{display:flex;flex-direction:column;min-height:0}
.hero-top .hero-contact{margin-top:auto}
.hero-info{padding:0}
.hero-title{font-size:clamp(22px,2.7vw,36px);line-height:1.03;margin:0 0 6px 0;opacity:0;transition:opacity 1.5s ease}
.hero-title.in{opacity:1}
.hero-title .muted-line{color:var(--darkGrey)}
.hero-subhead{margin:0;color:#666;font-size:15px}
.hero-ctas{display:flex;gap:10px;flex-wrap:wrap;margin:12px 0}
.hero-ctas .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:999px;border:var(--bw) solid var(--fg);font-size:14px;letter-spacing:.04em;background:var(--fg);color:var(--pageWhite);transition:background .25s ease,color .25s ease}
.hero-ctas .btn.secondary{background:transparent;color:var(--fg)}
.hero-ctas .btn:hover{background:var(--darkGrey);color:var(--pageWhite)}
.hero-ctas .btn.secondary:hover{background:var(--fg);color:var(--pageWhite)}
.hero-contact{display:flex;gap:18px;color:#777;font-size:11px;letter-spacing:.08em;text-transform:uppercase;opacity:0;transition:opacity 1.5s ease}
.hero-contact.in{opacity:1}
.hero-contact .label{margin-bottom:4px}
.hero-card,.hero-right{border:none;border-radius:0;overflow:hidden;height:100%;min-height:0;position:relative}
.hero-card img,.hero-right img{width:100%;height:100%;object-fit:cover;display:block;object-position:center}
/* Zoom-on-hover for hero images */
.hero-card .wipe-inner img,.hero-right .wipe-inner img{transition:transform 1.1s cubic-bezier(.22,.61,.36,1)}
.hero-card:hover .wipe-inner img,.hero-right:hover .wipe-inner img{transform:scale(1.2)}

/* CTA over hero images */
.image-cta{position:absolute;left:clamp(12px,2.2vw,28px);bottom:clamp(12px,2.2vw,28px);z-index:2;display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:999px;border:none;font-size:14px;letter-spacing:.04em;background:var(--bg);color:var(--fg);transition:background .25s ease,color .25s ease}
.image-cta:hover{background:var(--bg);color:var(--fg)}

/* Homepage intro overlays */
.intro-contact{position:absolute;left:var(--g);bottom:var(--g);display:flex;gap:18px;color:#777;font-size:11px;letter-spacing:.08em;text-transform:uppercase;opacity:0;transform:translateY(20px);transition:transform .5s ease,opacity .5s ease;pointer-events:none}
.intro-contact.show{opacity:1;transform:translateY(0)}
.intro-progress{position:absolute;right:var(--g);bottom:var(--g);z-index:3;background:rgba(236,237,238,.7);color:var(--fg);border-radius:999px;padding:6px 10px;font-size:13px;letter-spacing:.06em}

/* Wipe reveal for hero images */
.hero-card .wipe-inner,.hero-right .wipe-inner{position:absolute;inset:0;transform:translateY(100%);transition:transform 1s ease}
.hero-card.reveal .wipe-inner,.hero-right.reveal .wipe-inner{transform:translateY(0)}

.feature-zone{position:relative;height:auto}
.feature-bar{background:var(--bg);border-top:var(--bw) solid var(--border);border-bottom:var(--bw) solid var(--border);position:sticky;top:calc(50vh - var(--barH, 40px)/2);z-index:2}
.feature-bar .container{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;gap:8px;padding-block:calc(var(--barPad) * var(--barScale));font-size:calc(15px * 1.3);color:var(--fg);text-transform:uppercase;letter-spacing:.06em}
.feature-bar .dot::after{content:"Â·";margin:0 8px;color:var(--muted)}
.feature-bar .dot:last-child::after{content:"";margin:0}

section{padding-block:calc(1.25 * var(--g))}
.section-title{margin-bottom:var(--g)}
h2{font-size:22px}
.products-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--g)}
/* Add space between section header and first row of images */
.container > .products-grid{margin-top:calc(var(--g) * 1.25)}
/* Desktop: show 4 across from 1024px and up */
@media (min-width:1024px){.products-grid{grid-template-columns:repeat(4,1fr)}}
@media (min-width:768px) and (max-width:1023px){.products-grid{grid-template-columns:repeat(2,1fr)}}

.tile{display:flex;flex-direction:column;min-height:0;cursor:pointer}
.tile .k{margin:0 0 6px 0;font-size:12px;color:#777;letter-spacing:.10em;text-transform:uppercase}
.tile .t{margin:0 0 12px 0;font-size:26px;line-height:1.2;display:inline-flex;gap:8px;padding-bottom:4px;border-bottom:var(--bw) solid var(--fg)}
.tile .m{width:100%;height:clamp(320px,60dvh,920px);border:none;border-radius:0;overflow:hidden;position:relative}
.tile .m img{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .9s cubic-bezier(.22,.61,.36,1)}
.tile:hover:not(.viewall) .m img{transform:scale(1.35)}

/* Match product page tile styling within the homepage products section */
#products .tile .m{ height:clamp(420px,72dvh,1000px); }
#products .tile .k{ margin:12px 0 6px 0; }
#products .tile .t{ font-size:18px; }

.tile.viewall .k,.tile.viewall .t{visibility:hidden;border-color:transparent}
.tile.viewall .m{background:var(--bg);border-left:none;border-right:none;border-top:var(--bw) solid var(--border);border-bottom:var(--bw) solid var(--border);display:flex;align-items:flex-end;justify-content:flex-start;position:relative;overflow:hidden}
.tile.viewall .m::before{content:"";position:absolute;inset:0;background:var(--ctaWipe);transform:scaleX(0);transform-origin:right center;transition:transform .55s ease;pointer-events:none}
.tile.viewall:hover .m::before{transform:scaleX(1)}
.tile.viewall .cta-box{width:100%;padding:clamp(14px,2.2vw,28px);position:relative;z-index:1}
.tile.viewall .cta-title{font-size:clamp(18px,2.1vw,29px);line-height:1.15;color:var(--fg);transition:color .3s ease}
.tile.viewall:hover .cta-title{color:var(--pageWhite)}

.hero,#products{will-change:transform;transform:translate3d(0,0,0)}

/* Dedicated mobile hero image (hidden by default) */

/* Process steps (homepage) */
.steps-grid{display:grid;grid-template-columns:1fr;gap:var(--g)}
.container > .steps-grid{margin-top:calc(var(--g) * 1.25)}
@media (min-width:768px){.steps-grid{grid-template-columns:repeat(2,1fr)}}
@media (min-width:1024px){.steps-grid{grid-template-columns:repeat(3,1fr)}}

.step-card{display:flex;align-items:flex-start;gap:clamp(12px,1.6vw,18px);background:var(--pageWhite);border:var(--bw) solid var(--border);padding:clamp(14px,2.2vw,24px)}
.step-num{flex:0 0 auto;width:36px;height:36px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:13px;letter-spacing:.08em;text-transform:uppercase;background:var(--bg);color:var(--fg);border:var(--bw) solid var(--border)}
.step-copy{display:flex;flex-direction:column;gap:6px}
.step-title{margin:0;font-size:18px;line-height:1.2}
.step-desc{margin:0;color:#555;font-size:14px;line-height:1.45}
.step-note{margin-top:calc(var(--g) * .5);color:#777;font-size:12px;letter-spacing:.04em}

/* Process timeline rail (homepage) */
#process{ --railGap: 16px; --processLeft: 0px; --numGap: 24px; }
#process .process-wrap{ position: relative; z-index:0; display:grid; grid-template-columns: 72px minmax(0, 900px); justify-content: center; align-items:stretch; gap: var(--g); margin-top: 0; }
#process .process-wrap::before,
#process .process-wrap::after{ content:""; position:absolute; left:0; right:0; height: var(--bw); background: var(--border); z-index:3; pointer-events:none; }
#process .process-wrap::before{ top:0; }
#process .process-wrap::after{ bottom:0; }
#process .process-wrap.process-3col{ grid-template-columns: 1fr 1fr 1fr; }
#process .step-rail{ position:relative; height:100%; }
/* Rail runs the full height of the process wrap (top to bottom) */
/* Match site line colour/weight */
#process .step-rail__line{ position:absolute; top:0; bottom:0; left: 0; width: var(--bw); background: var(--border); border-radius: 0; pointer-events:none; }
/* Large step number in the left column, right-aligned to the rail */
#process .step-rail__num{ position:sticky; top: calc(50vh - 18vh); left: var(--processLeft); width: calc(var(--railCenterPx, 40vw) - var(--processLeft) - 16px); height: 36vh; display:flex; align-items:center; justify-content:flex-end; pointer-events:none; opacity:1; visibility:visible; z-index: 3000; }
#process .step-rail__num.is-visible{ opacity:1; visibility:visible; }
#process .step-rail__num span{ font-size: clamp(96px, 18vw, 300px); line-height:1; font-weight:400; color:#0F0F10; opacity:.9; }
/* Number box removed */
#process .step-rail__box{ display:none !important; }
#process .step-rail__box.is-visible{ display:none !important; }

/* Timeline content layout */
#process .steps-grid{ grid-template-columns: 1fr !important; gap: calc(var(--g) * 4.2); margin: 0; max-width: none; padding-top: calc(var(--g) * 2.2); padding-bottom: calc(var(--g) * 2.2); }
#process .step-card{ background: transparent; border: none; padding: 0; gap: 10px; }
#process .step-num{ display:none; }
/* Default: mid-grey text */
#process .step-title{ font-size: clamp(20px, 2.2vw, 28px); color:#6D7176; transform-origin: left center; transition: color .2s ease, transform .2s ease; display:inline-block; will-change: transform; }
#process .step-desc{ font-size: 16px; color:#6D7176; transition: color .2s ease; }
/* Active step styling */
#process .step-card.is-active .step-title{ color:#0F0F10; transform: scale(1.2); }
#process .step-card.is-active .step-desc{ color:#0F0F10; }
#process .process-wrap .step-note{ grid-column: 2; margin-top: calc(var(--g) * 1); }

/* Three-column specifics */
#process .col-num{ position:relative; padding-right: var(--g); z-index:1; }
#process .col-num::after{ content:""; position:absolute; top: 0; bottom: 0; right: 0; width: var(--bw); background: var(--border); pointer-events:none; z-index:3; }

/* ensure content sits beneath the lines */
#process .process-col{ position:relative; z-index:1; }
#process .col-num__stick{ position: sticky; top: calc(50vh - 18vh + var(--numGap)); height: calc(36vh - (2 * var(--numGap))); display:flex; align-items:center; justify-content:center; }
#process .big-num{ font-size: clamp(160px, 30vw, 500px); line-height:1; font-weight:400; color:#5A5A5A; opacity:1; }

#process .col-steps{ padding-left: var(--g); padding-right: var(--g); padding-top: calc(var(--g) * 1.8); padding-bottom: calc(var(--g) * 1.8); }

#process .col-copy{ padding-left: var(--g); }
#process .col-copy .copy-stick{ position: sticky; top: calc(50vh - 18vh + var(--numGap)); height: calc(36vh - (2 * var(--numGap))); display:flex; align-items:center; }
#process .col-copy .copy-panel{ opacity:0; transition: opacity .75s ease; color:#0F0F10; }
#process .col-copy .copy-panel.in{ opacity:1; }
#process .col-copy .copy-panel p{ font-size: clamp(18px, 2.0vw, 22px); line-height: 1.6; }

@media (max-width: 720px){
  #process .process-wrap{ grid-template-columns: 1fr; }
  #process .process-wrap.process-3col{ grid-template-columns: 1fr; }
  #process .col-num{ border-right: 0; padding-right: 0; }
  #process .col-steps, #process .col-copy{ padding: 0; }
}
.mobile-hero{ display:none; }
.mobile-hero img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block; }
.mobile-hero .wipe-inner{ position:absolute; inset:0; transform: translateY(100%); transition: transform 1s ease; }
.mobile-hero.reveal .wipe-inner{ transform: none; }

@media (max-width:960px){
  .hero .split{grid-template-columns:1fr}
  /* Ensure the hero occupies the initial viewport on mobile */
  .hero{min-height:calc(100dvh - var(--headerH, var(--navH)))}
  /* Hide desktop hero images and show mobile-hero */
  .hero-card, .hero-right{ display:none; }
  .mobile-hero{ display:block; position:relative; height:clamp(360px, 62dvh, 860px); border:none; border-radius:0; overflow:hidden; }
}

@media (max-width:900px){
  .feature-bar .container{flex-wrap:wrap;justify-content:center;row-gap:4px}
}

@media (max-width:640px){
  .hero-contact{flex-direction:column;align-items:flex-start}
}

/* Mobile-specific adjustments */
@media (max-width:960px){
  /* 1) Increase H1 size by ~30% on mobile */
  .hero-title{ font-size: clamp(28.6px, 3.51vw, 46.8px); }

  /* 3) Hide the feature/proof bar on mobile */
  .feature-bar{ display:none; }

  /* 4) Pitched product image: wipe-in from bottom once loaded and after other content is ready */
  .tile .m.pitched{ transform: translateY(100%); transition: transform 1s ease; }
  .tile .m.pitched.in{ transform: none; }
}

/* Desktop layout: show hero images and keep two columns */
@media (min-width:961px){
  .hero .split{ grid-template-columns: 1fr 1fr; }
  .hero-card, .hero-right{ display:block; }
  .hero-left-grid{ grid-template-rows:1fr auto; height:100%; min-height:0; }
  /* Keep left image at ~50% of hero height */
  .hero-card{ height:calc((100dvh - var(--headerH, var(--navH))) * .5); }
  .hero-info{ margin-top:calc(var(--g) * 2.5) }
}

/* Word-by-word section (namespaced) */
.sp-reveal{ position:relative; height: var(--sp-scroll, 240vh); }
.sp-reveal__sticky{ position:sticky; top:0; height:100vh; overflow:hidden; display:grid; grid-template-columns: var(--sp-seam, 50vw) calc(100vw - var(--sp-seam, 50vw)); gap: 0; }

/* Left: text */
.sp-reveal__text{ display:flex; align-items:center; justify-content:flex-end; height:100%; padding-left: var(--sp-edge, clamp(16px,6vw,96px)); padding-right: var(--sp-gutter, 0px); }
.sp-reveal__linebox{ max-width: min(520px, 40vw); text-align:right; }
.sp-reveal__line{ font-weight:500; line-height:1.14; letter-spacing:.01em; font-size: var(--sp-size, clamp(22px, 3.2vw, 44px)); color: var(--sp-ink, #0E0F10); }
.sp-reveal__word{ display:inline-block; margin-right:.35ch; opacity:0; transform: translateY(8px); transition: opacity .21s ease, transform .33s cubic-bezier(.2,.7,.1,1); will-change: opacity, transform; }
.sp-reveal__word.is-on{ opacity:1; transform:none; }

/* Right: image */
.sp-reveal__imagebox{ position:relative; height:100%; }
.sp-reveal__imagepad{ position:absolute; top: calc(var(--sp-edge, clamp(16px,6vw,96px)) + var(--headerH, var(--navH))); right: var(--sp-edge, clamp(16px,6vw,96px)); bottom: var(--sp-edge, clamp(16px,6vw,96px)); left: var(--sp-edge, clamp(16px,6vw,96px)); }
.sp-reveal__imagefill{ position:relative; width:100%; height:100%; overflow:hidden; background: var(--bg); }
.sp-reveal__img{ position:absolute; inset:0; will-change:transform; }

@media (prefers-reduced-motion: reduce){
  .sp-reveal__word{ transition:none }
}

/* Mobile adjustments for split reveal */
@media (max-width:960px){
  .sp-reveal__sticky{ grid-template-columns: 1fr; }
  .sp-reveal__text{ padding-right: var(--sp-edge, clamp(16px,6vw,96px)); }
  .sp-reveal__linebox{ max-width: none; }
  .sp-reveal__imagepad{ top: calc((var(--sp-edge, 24px) * .5) + var(--headerH, var(--navH))); right: var(--sp-edge, 24px); bottom: calc(var(--sp-edge, 24px) * .5); left: var(--sp-edge, 24px); }
}
